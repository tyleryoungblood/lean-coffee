<div class="container topics-page"> <div class="topic row"> <div class="vote left"> <div class="fa fa-thumbs-o-up" ng-class="{'user_has_upvoted fa fa-thumbs-up': signedIn() && topic.upvotes[currentUser.username].localeCompare(currentUser.username) === 0}" ng-click="upVoteTopic(topic.$id, upVoted(topic))"> </div> <div class="tally" ng-show="topic.score >= 1">{{ topic.score || 0 }} </div> </div> <!-- vote left --> <div class="topic_summary left"> <div class="topic_title"> <a href="#/topics/{{ topic.$id }}"> {{ topic.title }} </a> </div> <div class="topic_owner"> by <a href="#/users/{{ topic.owner }}">{{ topic.owner }}</a> <a href="#/topics/{{ topic.$id }}"><!-- <span class="ionicons ion-chatboxes"> --></a> </div> <div class="trash right"><a ng-click="deleteTopic(topic.$id)" ng-show="signedIn() && topic.owner === currentUser.username"> <span class="ionicons ion-trash-b"></span></a> </div> </div> <!-- topic_summary --> </div><br><!--  .topic row --> <div ng-show="topic.description !== '' && topic.description !== 'Description'"> <h4>Description</h4> <p>{{ topic.description }}</p><br> </div> <h4>Comments</h4> <div ng-repeat="(commentId, comment) in topic.comments" class="row cmt"> <div class="col-md-12"> <p>{{ comment.text }}</p> <p class="author">posted by <a href="#/users/{{ comment.username }}">{{ comment.username }}</a> | <a ng-click="removeComment(comment, commentId)" ng-show="signedIn() && comment.username === currentUser.username"> <span class="ionicons ion-trash-b"> Delete</span> </a> </p> </div> </div> <div class="cmt-form"> <div ng-hide="signedIn()"> <p><a href="#/login">Sign in</a> to post a comment</p> </div> <form ng-show="signedIn()"> <textarea ng-model="comment.text" placeholder="Got something to say?" class="form-control"></textarea><br> <input type="submit" ng-click="addComment()" value="Submit Comment" class="btn btn-primary"> </form> </div> <br> <a href="#topics">Back to Topics</a> </div> <!-- container -->